# Fortine - Система кейсов и скинов

## Описание

Fortine - это веб-приложение для открытия кейсов с скинами, построенное на Django с использованием DRF для API.

## Функциональность

### Система кейсов
- **Создание кейсов** с названием, изображением и ценой
- **Инлайн-редактирование скинов** прямо в админке кейса
- **Отображение кейсов** на главной странице
- **Выбор кейса** пользователем для открытия

### Система скинов
- **Скины привязаны к кейсам** через ForeignKey
- **Редкость скинов**: обычный, необычный, редкий, эпический, легендарный
- **Шанс выпадения** для каждого скина (от 0.0001 до 1.0000)
- **Фильтрация** по кейсам и редкости

### Логика работы
1. **Главная страница** - отображает доступные кейсы
2. **Выбор кейса** - пользователь кликает на кейс
3. **Страница кейса** (`opencase.html`) - показывает информацию о выбранном кейсе
4. **Проверка баланса** - проверяется, хватает ли средств
5. **Страница крутящегося кейса** (`scrollcase.html`) - анимация и выпадение скина
6. **Начисление выигрыша** - скин добавляется в инвентарь пользователя

## Установка и настройка

### 1. Установка зависимостей
```bash
pip install -r requirements.txt
```

### 2. Создание миграций
```bash
python manage.py makemigrations
python manage.py migrate
```

### 3. Создание суперпользователя
```bash
python manage.py createsuperuser
```

### 4. Запуск сервера
```bash
python manage.py runserver
```

## Администрирование

### Создание кейса
1. Зайдите в админку `/django-admin/`
2. Перейдите в раздел "Кейсы"
3. Нажмите "Добавить кейс"
4. Заполните поля: название, изображение, цена
5. Сохраните

### Добавление скинов
1. Откройте существующий кейс для редактирования
2. Внизу страницы будет секция "Скины"
3. Добавьте скины с указанием:
   - Названия
   - Изображения
   - Редкости
   - Шанса выпадения

## API Endpoints

### Кейсы
- `GET /api/cases/cases/` - список всех кейсов
- `GET /api/cases/cases/{id}/` - детали кейса
- `GET /api/cases/cases/{id}/skins/` - скины кейса
- `POST /api/cases/cases/{id}/open/` - открыть кейс

### Скины
- `GET /api/skins/skins/` - список всех скинов
- `GET /api/skins/skins/?case={id}` - скины по кейсу
- `GET /api/skins/skins/?rarity={rarity}` - скины по редкости

## Структура проекта

```
Fortine/
├── apps/
│   ├── cases/           # Приложение кейсов
│   ├── skins/           # Приложение скинов
│   ├── accounts/        # Приложение аккаунтов
│   └── main/            # Главное приложение
├── core/                # Основные настройки
├── templates/           # Базовые шаблоны
└── static/              # Статические файлы
```

## Тестирование

Для тестирования API используйте страницу `/cases/api-test/` или инструменты типа Postman.

## Особенности

- **Анимация крутящегося кейса** с плавными переходами
- **Проверка баланса** перед открытием кейса
- **Модальные окна** для ошибок и выигрышей
- **Адаптивный дизайн** для мобильных устройств
- **Интеграция с Django Admin** для удобного управления

## Разработка

Система построена с использованием:
- Django 5.2+
- Django REST Framework
- Django Filter
- Wagtail CMS
- Bootstrap для стилизации 